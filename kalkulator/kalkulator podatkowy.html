<html>

    <head>
        <meta charset="utf-8">
        <title>Kalkulator podatkowy</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <script>
            function Policz()
            {
                if(zarobki.value == "") 
		        {
			        zarobki.style = "border: 2px red solid"; 
			        alert("Pole nie może być puste"); 
			        return;
		        }
		        else
		        {
			        zarobki.style = "border: 1px black solid"; 
		        }

                var wybor = rodzaj.value;
                var kasa = parseFloat(zarobki.value);
                var podatek;
                var zostalo;
                var mniej;

                if(wybor == 'rycz')
                {
                    if(kasa <=100000.0)
                    {
                        podatek = kasa * 0.085;
                        zostalo = kasa - podatek;

                        document.write("<table style='font-size: 25px; text-align: center; border-style: inset'" + 
                    "><tr><th>" + "Podstawa podatku" + "</th><th>" + "Kwota podatku" + "</th><th>" + "Zostanie ci" + "</th>"+
                    "<tr><td>" + kasa + "</td><td>" + Math.round(podatek*100)/100 + "</td><td>" + Math.round(zostalo*100)/100 + "</tr></table>");
                    }
                    else
                    {
                        podatek = kasa * 0.125;
                        zostalo = kasa - podatek;

                        document.write("<table style='font-size: 25px; text-align: center; border-style: inset'" + 
                    "><tr><th>" + "Podstawa podatku" + "</th><th>" + "Kwota podatku" + "</th><th>" + "Zostanie ci" + "</th>"+
                    "<tr><td>" + kasa + "</td><td>" + Math.round(podatek*100)/100 + "</td><td>" + Math.round(zostalo*100)/100 + "</tr></table>");
                    }
                }
                else if(wybor == 'lin')
                {
                    podatek = kasa * 0.19;
                    zostalo = kasa - podatek;

                    document.write("<table style='font-size: 25px; text-align: center; border-style: inset'" + 
                    "><tr><th>" + "Podstawa podatku" + "</th><th>" + "Kwota podatku" + "</th><th>" + "Zostanie ci" + "</th>"+
                    "<tr><td>" + kasa + "</td><td>" + Math.round(podatek*100)/100 + "</td><td>" + Math.round(zostalo*100)/100 + "</tr></table>");
                }
                else if(wybor == 'prog')
                {
                    if(kasa <= 8000.0)
                    {
                        mniej = 1360;
                    }
                    else if(kasa > 8000.0 && kasa <= 13000.0)
                    {
                        mniej = 1360.0 - (834.88 * (kasa - 8000.0)) / 5000.0;
                    }
                    else if(kasa > 13000.0 && kasa <= 85528.0)
                    {
                        mniej = 525.12;
                    }
                    else if(kasa > 85528.0 && kasa <= 127000.0)
                    {
                        mniej = 525.12 - (525.12 * (kasa - 85528.0)) / 41472.0;
                    }
                    else if(kasa > 127000.0)
                    {
                        mniej = 0.0;
                    }

                    if (kasa <= 85528.0)
                    {
                        podatek = kasa * 0.17 - mniej;
                        zostalo = kasa - podatek;

                        document.write("<table style='font-size: 25px; text-align: center; border-style: inset'" + 
                    "><tr><th>" + "Podstawa podatku" + "</th><th>" + "Kwota podatku" + "</th><th>" + "Zostanie ci" + "</th>"+
                    "<tr><td>" + kasa + "</td><td>" + Math.round(podatek*100)/100 + "</td><td>" + Math.round(zostalo*100)/100 + "</tr></table>");
                    }
                    else
                    {
                        podatek = kasa * 0.32 - mniej;
                        zostalo = kasa - podatek;

                        document.write("<table style='font-size: 25px; text-align: center; border-style: inset'" + 
                    "><tr><th>" + "Podstawa podatku" + "</th><th>" + "Kwota podatku" + "</th><th>" + "Zostanie ci" + "</th>"+
                    "<tr><td>" + kasa + "</td><td>" + Math.round(podatek*100)/100 + "</td><td>" + Math.round(zostalo*100)/100 + "</tr></table>");
                    }
                }
            }
        </script>
        <div class="ramka">
        <form>
            Podaj swoje przychody (zł):<br/>
            <input class="form" type="number" id="zarobki"><br/>
            Wybierz rodzaj opodatkowania:<br/>
            <select class="form" id="rodzaj">
                <option value="rycz">Ryczałt</option>
                <option value="lin">Podatek liniowy</option>
                <option value="prog">Podatek progresywny</option>
            </select><br><br>
            <input class="form" type="button" onclick="Policz()" value="Policz"><br/>
        </form>
        </div>
    </body>
</html>